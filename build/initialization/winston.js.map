{"version":3,"file":"winston.js","sourceRoot":"","sources":["../../src/initialization/winston.ts"],"names":[],"mappings":";;;AAAA,0BAA0B;AAC1B,qCAKiB;AACjB,iCAAiC;AAEjC,MAAM,SAAS,GAAG,CAAI,GAAW,EAAE,YAAe,EAAK,EAAE,CACvD,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;AAEnD,MAAM,OAAO,GAAG;IACd,MAAM,EAAE,GAAG,EAAE,CAAC,gBAAM,CAAC,MAAM,EAAE;IAC7B,OAAO,EAAE,GAAG,EAAE,CAAC,gBAAM,CAAC,IAAI,EAAE;CAC7B,CAAC;AAEF,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC,CAAC;AAErD,QAAA,YAAY,GAAkB;IACzC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC;IAClC,MAAM,EAAE,SAAS,EAAE;IACnB,UAAU,EAAE;QACV,IAAI,oBAAU,CAAC,OAAO,EAAE;KACzB;IACD,iBAAiB,EAAE;QACjB,IAAI,oBAAU,CAAC,OAAO,EAAE;KACzB;CACF,CAAC;AAEW,QAAA,MAAM,GAAG,sBAAY,CAAC,oBAAY,CAAC,CAAC","sourcesContent":["/* istanbul ignore file */\nimport {\n  createLogger,\n  format,\n  transports,\n  LoggerOptions\n} from 'winston';\nimport * as config from 'config';\n\nconst getConfig = <T>(key: string, defaultValue: T): T =>\n  config.has(key) ? config.get(key) : defaultValue;\n\nconst formats = {\n  simple: () => format.simple(),\n  default: () => format.json()\n};\n\nconst getFormat = formats[getConfig('winston.format', 'default')];\n\nexport const loggerConfig: LoggerOptions = {\n  level: config.get('winston.level'),\n  format: getFormat(),\n  transports: [\n    new transports.Console()\n  ],\n  exceptionHandlers: [\n    new transports.Console()\n  ]\n};\n\nexport const logger = createLogger(loggerConfig);\n"]}